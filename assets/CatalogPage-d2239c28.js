import{d as B,r as y,a as P,o as b,c as w,b as u,e as Y,f as W,m as Z,n as M,t as _,g as V,w as L,u as p,F as K,h as X,T as ve,i as ue,v as tt,j as de,k as ke,p as ze,l as Ne,_ as ge,q as at,s as st,x as F,y as Re,z as rt,A as nt,B as ot,C as Fe,D as Be,E as me,G as I,H as U,I as re,J as it,K as lt,L as ct,M as ut,N as dt,O as mt,P as pt,Q as ft,R as Pe}from"./index-4b24e9a4.js";import{V as se,f as vt,a as gt,d as ht,b as le,g as $t,c as bt}from"./VehiclesService-36dd7c46.js";const yt="/vue-ts-composition-ecommerce/map-pin.svg",Ue="/vue-ts-composition-ecommerce/delete-icon.svg",xt={class:"relative block"},Pt={class:"absolute inset-y-0 left-0 flex items-center pl-4"},wt=u("img",{src:yt,alt:"Map Pin"},null,-1),_t={key:0,src:Ue,alt:"Cross"},Ct=["value"],Vt={key:0,class:"absolute z-10 mt-2 max-h-[30vh] w-full overflow-y-auto overflow-x-hidden rounded-[10px] bg-white shadow-inputBase"},kt=["onMousedown"],Rt={class:"pl-[52px]"},Ft={key:1,class:"absolute z-10 mt-2 flex h-[56px] w-full items-center overflow-y-auto overflow-x-hidden rounded-[10px] bg-white text-gray-500 shadow-inputBase"},Bt=u("li",{class:"py-2 transition first-of-type:rounded-t-[10px] first-of-type:rounded-b-none last-of-type:rounded-t-none last-of-type:rounded-b-[10px]"},[u("span",{class:"pl-[52px]"},"Nothing is found...")],-1),Ot=[Bt],St={class:"mt-1 text-xs text-error"},Oe=B({__name:"BaseAutocomplete",props:{listData:{type:Array},modelValue:{type:String,required:!0},label:{type:String,required:!0},error:{type:String}},emits:["update:modelValue"],setup(e,{emit:r}){const t=e,a=y({focused:!1,touched:!1}),s=P(()=>{var l;return(l=t.listData)==null?void 0:l.filter(v=>v.toLowerCase().includes(t.modelValue.toLowerCase()))}),o=l=>{a.value.touched=!0,r("update:modelValue",l)},m=l=>{a.value.touched=!0,r("update:modelValue",l)},i=()=>{r("update:modelValue","")},n=()=>a.value.focused=!0,d=()=>a.value.focused=!1;return(l,v)=>(b(),w("div",null,[u("div",xt,[u("span",Pt,[Y(l.$slots,"icon-left",{},()=>[wt])]),u("span",{class:"absolute inset-y-0 right-0 flex cursor-pointer items-center pr-4",onClick:i},[Y(l.$slots,"icon-right",{},()=>[e.modelValue?(b(),w("img",_t)):W("",!0)])]),u("input",Z({name:"input",value:e.modelValue,onInput:v[0]||(v[0]=f=>o(f.target.value)),onFocus:n,onBlur:d},l.$attrs,{placeholder:"1",class:["peer block h-12 w-full rounded-[10px] px-[52px] pt-5 font-medium text-gray-600 placeholder-transparent shadow-inputBase transition duration-300 ease-in-out placeholder-shown:pt-0 focus:outline-none",{"border-[1px] border-error text-error":e.error}]}),null,16,Ct),u("label",{for:"input",class:M(["pointer-text pointer-events-none absolute top-1 pl-[52px] text-xs font-normal text-gray-600 transition-all peer-placeholder-shown:top-[12px] peer-placeholder-shown:text-base peer-placeholder-shown:font-medium",{"text-error":e.error}])},_(e.label),3),V(ve,{name:"fade",mode:"out-in"},{default:L(()=>{var f,g;return[a.value.focused&&((f=p(s))!=null&&f.length)?(b(),w("ul",Vt,[(b(!0),w(K,null,X(p(s),c=>(b(),w("li",{class:"cursor-pointer py-2 transition first-of-type:rounded-t-[10px] first-of-type:rounded-b-none last-of-type:rounded-t-none last-of-type:rounded-b-[10px] hover:font-semibold",key:c,onMousedown:h=>m(c)},[u("span",Rt,_(c),1)],40,kt))),128))])):a.value.focused&&!((g=p(s))!=null&&g.length)?(b(),w("ul",Ft,Ot)):W("",!0)]}),_:1})]),u("span",St,_(e.error),1)]))}}),Tt="/vue-ts-composition-ecommerce/checkbox-checked-img.svg",jt=["title","for"],Lt=["id","value"],Mt={class:"absolute top-[3px] right-[0.5rem] z-10 w-6",src:Tt,alt:"checked-icon"},Et=u("span",{class:"absolute right-[0.5rem] h-4 w-3 bg-inherit"},null,-1),At={class:"line-clamp-1"},qe=B({__name:"BaseCheckBox",props:{modelValue:{type:[Array,Boolean]},inputBgClass:null,value:null,label:null,id:null},emits:["update:modelValue"],setup(e,{emit:r}){const t=e,a=P({get(){return t.modelValue},set(o){o&&r("update:modelValue",o)}}),s=P(()=>Array.isArray(t.modelValue)&&t.value?t.modelValue.includes(t.value):t.modelValue);return(o,m)=>(b(),w("label",{title:e.label,class:M(["relative flex h-full cursor-pointer items-center",{"font-semibold":p(s)}]),for:e.id},[u("div",{class:M(["relative",e.inputBgClass])},[ue(u("input",{class:"form-checkbox my-1 mr-3 cursor-pointer rounded border p-3 text-transparent checked:border-gray-800 checked:hover:border-gray-800 focus:ring-0 focus:ring-offset-0 checked:focus:border-gray-800",id:e.id,type:"checkbox","onUpdate:modelValue":m[0]||(m[0]=i=>de(a)?a.value=i:null),value:e.value},null,8,Lt),[[tt,p(a)]]),V(ve,{name:"fade"},{default:L(()=>[ue(u("img",Mt,null,512),[[ke,p(s)]])]),_:1}),Et],2),u("span",At,_(e.label),1)],10,jt))}}),Dt="/vue-ts-composition-ecommerce/calendar.svg",It=e=>(ze("data-v-70cbd387"),e=e(),Ne(),e),zt={class:"flex w-full flex-col"},Nt={class:"relative w-full"},Ut=It(()=>u("span",{class:"absolute inset-y-0 left-0 flex items-center pl-4"},[u("img",{src:Dt,alt:"Calendar Icon"})],-1)),qt=["src"],Gt=["value","min"],Wt={class:"mt-1 text-xs text-error"},Ht=B({__name:"BaseDatePicker",props:{modelValue:{type:String,required:!0},label:{type:String,required:!0},error:{type:String}},emits:["update:modelValue"],setup(e,{emit:r}){const t=e,a="/vue-ts-composition-ecommerce/",s=y(),o=new Date().toISOString().slice(0,10),m=y({focused:!1}),i=P(()=>t.modelValue?"/delete-icon.svg":"dropdown-arrow.svg"),n=f=>r("update:modelValue",f),d=()=>{s.value.showPicker(),m.value.focused=!0},l=()=>m.value.focused=!1,v=()=>{t.modelValue&&r("update:modelValue","")};return(f,g)=>(b(),w("div",zt,[u("div",Nt,[Ut,u("span",{class:M(["absolute inset-y-0 right-0 flex items-center px-3 transition",{"rotate-180":m.value.focused&&!t.modelValue}]),onMousedown:v},[u("img",{src:`${p(a)}${p(i)}`,alt:"Cross"},null,8,qt)],34),u("input",{ref_key:"datePicker",ref:s,type:"date",name:"input",value:e.modelValue,min:p(o),onInput:g[0]||(g[0]=c=>n(c.target.value)),onFocus:d,onBlur:l,placeholder:"1",class:M([{"border-[1px] border-error text-error":e.error},"h-12 cursor-text w-full min-w-[95%] rounded-[10px] bg-white px-[52px] pt-5 font-medium text-gray-600 placeholder-transparent shadow-inputBase transition duration-300 ease-in-out focus:outline-none"])},null,42,Gt),u("label",{for:"input",class:M([{"text-error":e.error},"pointer-text pointer-events-none absolute top-1 pl-[52px] text-xs font-normal text-gray-600 transition-all peer-placeholder-shown:top-[12px] peer-placeholder-shown:text-base peer-placeholder-shown:font-medium"])},_(e.label),3)]),u("span",Wt,_(e.error),1)]))}});const Se=ge(Ht,[["__scopeId","data-v-70cbd387"]]),Yt="/vue-ts-composition-ecommerce/clock.svg",Jt=e=>(ze("data-v-b51ef3e5"),e=e(),Ne(),e),Qt={class:"relative block"},Zt=Jt(()=>u("span",{class:"absolute inset-y-0 left-0 flex items-center pl-4"},[u("img",{src:Yt,alt:"Clock Icon"})],-1)),Kt=["src"],Xt=["value"],ea={class:"mt-1 text-xs text-error"},ta=B({__name:"BaseTimePicker",props:{modelValue:{type:String,required:!0},label:{type:String,required:!0},error:{type:String}},emits:["update:modelValue"],setup(e,{emit:r}){const t=e,a="/vue-ts-composition-ecommerce/",s=y({focused:!1}),o=P(()=>t.modelValue?"/delete-icon.svg":"/dropdown-arrow.svg"),m=y(),i=v=>r("update:modelValue",v),n=()=>{var v;(v=m==null?void 0:m.value)==null||v.showPicker(),s.value.focused=!0},d=()=>s.value.focused=!1,l=()=>{t.modelValue&&r("update:modelValue","")};return(v,f)=>(b(),w("div",null,[u("div",Qt,[Zt,u("span",{class:M(["absolute inset-y-0 right-0 flex items-center px-3 transition",{"rotate-180":s.value.focused&&!t.modelValue}]),onMousedown:l},[u("img",{src:`${p(a)}${p(o)}`,alt:"Cross"},null,8,Kt)],34),u("input",Z({ref_key:"timePicker",ref:m,type:"time",name:"input",value:e.modelValue,onInput:f[0]||(f[0]=g=>i(g.target.value)),onFocus:n,onBlur:d},v.$attrs,{class:[{"border-[1px] border-error text-error":e.error},"peer block h-12 w-full min-w-[95%] cursor-text rounded-[10px] bg-white pl-[52px] pt-5 font-medium text-gray-600 placeholder-transparent shadow-inputBase transition duration-300 ease-in-out placeholder-shown:pt-0 focus:outline-none"],placeholder:"1"}),null,16,Xt),u("label",{for:"input",class:M([{"text-error":e.error},"pointer-text pointer-events-none absolute top-1 pl-[52px] text-xs font-normal text-gray-600 transition-all peer-placeholder-shown:top-[12px] peer-placeholder-shown:text-base peer-placeholder-shown:font-medium"])},_(e.label),3)]),u("span",ea,_(e.error),1)]))}});const Te=ge(ta,[["__scopeId","data-v-b51ef3e5"]]);function je(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((t,a)=>(r.includes(a)||(t[a]=p(e[a])),t),{})}function pe(e){return typeof e=="function"}function aa(e){return nt(e)||ot(e)}function Ge(e,r,t){let a=e;const s=r.split(".");for(let o=0;o<s.length;o++){if(!a[s[o]])return t;a=a[s[o]]}return a}function we(e,r,t){return P(()=>e.some(a=>Ge(r,a,{[t]:!1})[t]))}function Le(e,r,t){return P(()=>e.reduce((a,s)=>{const o=Ge(r,s,{[t]:!1})[t]||[];return a.concat(o)},[]))}function We(e,r,t,a){return e.call(a,p(r),p(t),a)}function He(e){return e.$valid!==void 0?!e.$valid:!e}function sa(e,r,t,a,s,o,m){let{$lazy:i,$rewardEarly:n}=s,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],l=arguments.length>8?arguments[8]:void 0,v=arguments.length>9?arguments[9]:void 0,f=arguments.length>10?arguments[10]:void 0;const g=y(!!a.value),c=y(0);t.value=!1;const h=F([r,a].concat(d,f),()=>{if(i&&!a.value||n&&!v.value&&!t.value)return;let $;try{$=We(e,r,l,m)}catch(x){$=Promise.reject(x)}c.value++,t.value=!!c.value,g.value=!1,Promise.resolve($).then(x=>{c.value--,t.value=!!c.value,o.value=x,g.value=He(x)}).catch(x=>{c.value--,t.value=!!c.value,o.value=x,g.value=!0})},{immediate:!0,deep:typeof r=="object"});return{$invalid:g,$unwatch:h}}function ra(e,r,t,a,s,o,m,i){let{$lazy:n,$rewardEarly:d}=a;const l=()=>({}),v=P(()=>{if(n&&!t.value||d&&!i.value)return!1;let f=!0;try{const g=We(e,r,m,o);s.value=g,f=He(g)}catch(g){s.value=g}return f});return{$unwatch:l,$invalid:v}}function na(e,r,t,a,s,o,m,i,n,d,l){const v=y(!1),f=e.$params||{},g=y(null);let c,h;e.$async?{$invalid:c,$unwatch:h}=sa(e.$validator,r,v,t,a,g,s,e.$watchTargets,n,d,l):{$invalid:c,$unwatch:h}=ra(e.$validator,r,t,a,g,s,n,d);const $=e.$message;return{$message:pe($)?P(()=>$(je({$pending:v,$invalid:c,$params:je(f),$model:r,$response:g,$validator:o,$propertyPath:i,$property:m}))):$||"",$params:f,$pending:v,$invalid:c,$response:g,$unwatch:h}}function oa(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=p(e),t=Object.keys(r),a={},s={},o={};let m=null;return t.forEach(i=>{const n=r[i];switch(!0){case pe(n.$validator):a[i]=n;break;case pe(n):a[i]={$validator:n};break;case i==="$validationGroups":m=n;break;case i.startsWith("$"):o[i]=n;break;default:s[i]=n}}),{rules:a,nestedValidators:s,config:o,validationGroups:m}}function ia(){}const la="__root";function Ye(e,r,t){if(t)return r?r(e()):e();try{var a=Promise.resolve(e());return r?a.then(r):a}catch(s){return Promise.reject(s)}}function ca(e,r){return Ye(e,ia,r)}function ua(e,r){var t=e();return t&&t.then?t.then(r):r(t)}function da(e){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];try{return Promise.resolve(e.apply(this,r))}catch(a){return Promise.reject(a)}}}function ma(e,r,t,a,s,o,m,i,n){const d=Object.keys(e),l=a.get(s,e),v=y(!1),f=y(!1),g=y(0);if(l){if(!l.$partial)return l;l.$unwatch(),v.value=l.$dirty.value}const c={$dirty:v,$path:s,$touch:()=>{v.value||(v.value=!0)},$reset:()=>{v.value&&(v.value=!1)},$commit:()=>{}};return d.length?(d.forEach(h=>{c[h]=na(e[h],r,c.$dirty,o,m,h,t,s,n,f,g)}),c.$externalResults=P(()=>i.value?[].concat(i.value).map((h,$)=>({$propertyPath:s,$property:t,$validator:"$externalResults",$uid:`${s}-externalResult-${$}`,$message:h,$params:{},$response:null,$pending:!1})):[]),c.$invalid=P(()=>{const h=d.some($=>p(c[$].$invalid));return f.value=h,!!c.$externalResults.value.length||h}),c.$pending=P(()=>d.some(h=>p(c[h].$pending))),c.$error=P(()=>c.$dirty.value?c.$pending.value||c.$invalid.value:!1),c.$silentErrors=P(()=>d.filter(h=>p(c[h].$invalid)).map(h=>{const $=c[h];return Re({$propertyPath:s,$property:t,$validator:h,$uid:`${s}-${h}`,$message:$.$message,$params:$.$params,$response:$.$response,$pending:$.$pending})}).concat(c.$externalResults.value)),c.$errors=P(()=>c.$dirty.value?c.$silentErrors.value:[]),c.$unwatch=()=>d.forEach(h=>{c[h].$unwatch()}),c.$commit=()=>{f.value=!0,g.value=Date.now()},a.set(s,e,c),c):(l&&a.set(s,e,c),c)}function pa(e,r,t,a,s,o,m){const i=Object.keys(e);return i.length?i.reduce((n,d)=>(n[d]=Ce({validations:e[d],state:r,key:d,parentKey:t,resultsCache:a,globalConfig:s,instance:o,externalResults:m}),n),{}):{}}function fa(e,r,t){const a=P(()=>[r,t].filter(c=>c).reduce((c,h)=>c.concat(Object.values(p(h))),[])),s=P({get(){return e.$dirty.value||(a.value.length?a.value.every(c=>c.$dirty):!1)},set(c){e.$dirty.value=c}}),o=P(()=>{const c=p(e.$silentErrors)||[],h=a.value.filter($=>(p($).$silentErrors||[]).length).reduce(($,x)=>$.concat(...x.$silentErrors),[]);return c.concat(h)}),m=P(()=>{const c=p(e.$errors)||[],h=a.value.filter($=>(p($).$errors||[]).length).reduce(($,x)=>$.concat(...x.$errors),[]);return c.concat(h)}),i=P(()=>a.value.some(c=>c.$invalid)||p(e.$invalid)||!1),n=P(()=>a.value.some(c=>p(c.$pending))||p(e.$pending)||!1),d=P(()=>a.value.some(c=>c.$dirty)||a.value.some(c=>c.$anyDirty)||s.value),l=P(()=>s.value?n.value||i.value:!1),v=()=>{e.$touch(),a.value.forEach(c=>{c.$touch()})},f=()=>{e.$commit(),a.value.forEach(c=>{c.$commit()})},g=()=>{e.$reset(),a.value.forEach(c=>{c.$reset()})};return a.value.length&&a.value.every(c=>c.$dirty)&&v(),{$dirty:s,$errors:m,$invalid:i,$anyDirty:d,$error:l,$pending:n,$touch:v,$reset:g,$silentErrors:o,$commit:f}}function Ce(e){const r=da(function(){return ee(),ua(function(){if($.$rewardEarly)return ne(),ca(me)},function(){return Ye(me,function(){return new Promise(C=>{if(!q.value)return C(!j.value);const G=F(q,()=>{C(!j.value),G()})})})})});let{validations:t,state:a,key:s,parentKey:o,childResults:m,resultsCache:i,globalConfig:n={},instance:d,externalResults:l}=e;const v=o?`${o}.${s}`:s,{rules:f,nestedValidators:g,config:c,validationGroups:h}=oa(t),$=Object.assign({},n,c),x=s?P(()=>{const C=p(a);return C?p(C[s]):void 0}):a,S=Object.assign({},p(l)||{}),H=P(()=>{const C=p(l);return s?C?p(C[s]):void 0:C}),E=ma(f,x,s,i,v,$,d,H,a),T=pa(g,x,v,i,$,d,H),O={};h&&Object.entries(h).forEach(C=>{let[G,N]=C;O[G]={$invalid:we(N,T,"$invalid"),$error:we(N,T,"$error"),$pending:we(N,T,"$pending"),$errors:Le(N,T,"$errors"),$silentErrors:Le(N,T,"$silentErrors")}});const{$dirty:D,$errors:k,$invalid:j,$anyDirty:Q,$error:z,$pending:q,$touch:ee,$reset:$e,$silentErrors:te,$commit:ne}=fa(E,T,m),oe=s?P({get:()=>p(x),set:C=>{D.value=!0;const G=p(a),N=p(l);N&&(N[s]=S[s]),de(G[s])?G[s].value=C:G[s]=C}}):null;s&&$.$autoDirty&&F(x,()=>{D.value||ee();const C=p(l);C&&(C[s]=S[s])},{flush:"sync"});function ae(C){return(m.value||{})[C]}function be(){de(l)?l.value=S:Object.keys(S).length===0?Object.keys(l).forEach(C=>{delete l[C]}):Object.assign(l,S)}return Re(Object.assign({},E,{$model:oe,$dirty:D,$error:z,$errors:k,$invalid:j,$anyDirty:Q,$pending:q,$touch:ee,$reset:$e,$path:v||la,$silentErrors:te,$validate:r,$commit:ne},m&&{$getResultsForChild:ae,$clearExternalResults:be,$validationGroups:O},T))}class va{constructor(){this.storage=new Map}set(r,t,a){this.storage.set(r,{rules:t,result:a})}checkRulesValidity(r,t,a){const s=Object.keys(a),o=Object.keys(t);return o.length!==s.length||!o.every(i=>s.includes(i))?!1:o.every(i=>t[i].$params?Object.keys(t[i].$params).every(n=>p(a[i].$params[n])===p(t[i].$params[n])):!0)}get(r,t){const a=this.storage.get(r);if(!a)return;const{rules:s,result:o}=a,m=this.checkRulesValidity(r,t,s),i=o.$unwatch?o.$unwatch:()=>({});return m?o:{$dirty:o.$dirty,$partial:!0,$unwatch:i}}}const ce={COLLECT_ALL:!0,COLLECT_NONE:!1},Me=Symbol("vuelidate#injectChildResults"),Ee=Symbol("vuelidate#removeChildResults");function ga(e){let{$scope:r,instance:t}=e;const a={},s=y([]),o=P(()=>s.value.reduce((l,v)=>(l[v]=p(a[v]),l),{}));function m(l,v){let{$registerAs:f,$scope:g,$stopPropagation:c}=v;c||r===ce.COLLECT_NONE||g===ce.COLLECT_NONE||r!==ce.COLLECT_ALL&&r!==g||(a[f]=l,s.value.push(f))}t.__vuelidateInjectInstances=[].concat(t.__vuelidateInjectInstances||[],m);function i(l){s.value=s.value.filter(v=>v!==l),delete a[l]}t.__vuelidateRemoveInstances=[].concat(t.__vuelidateRemoveInstances||[],i);const n=Fe(Me,[]);Be(Me,t.__vuelidateInjectInstances);const d=Fe(Ee,[]);return Be(Ee,t.__vuelidateRemoveInstances),{childResults:o,sendValidationResultsToParent:n,removeValidationResultsFromParent:d}}function Je(e){return new Proxy(e,{get(r,t){return typeof r[t]=="object"?Je(r[t]):P(()=>r[t])}})}let Ae=0;function ha(e,r){var t;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(a=e,e=void 0,r=void 0);let{$registerAs:s,$scope:o=ce.COLLECT_ALL,$stopPropagation:m,$externalResults:i,currentVueInstance:n}=a;const d=n||((t=at())===null||t===void 0?void 0:t.proxy),l=d?d.$options:{};s||(Ae+=1,s=`_vuelidate_${Ae}`);const v=y({}),f=new va,{childResults:g,sendValidationResultsToParent:c,removeValidationResultsFromParent:h}=d?ga({$scope:o,instance:d}):{childResults:y({})};if(!e&&l.validations){const $=l.validations;r=y({}),st(()=>{r.value=d,F(()=>pe($)?$.call(r.value,new Je(r.value)):$,x=>{v.value=Ce({validations:x,state:r,childResults:g,resultsCache:f,globalConfig:a,instance:d,externalResults:i||d.vuelidateExternalResults})},{immediate:!0})}),a=l.validationsConfig||a}else{const $=de(e)||aa(e)?e:Re(e||{});F($,x=>{v.value=Ce({validations:x,state:r,childResults:g,resultsCache:f,globalConfig:a,instance:d??{},externalResults:i})},{immediate:!0})}return d&&(c.forEach($=>$(v,{$registerAs:s,$scope:o,$stopPropagation:m})),rt(()=>h.forEach($=>$(s)))),P(()=>Object.assign({},p(v.value),g.value))}function fe(e){return typeof e=="function"}function Ve(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function he(e){return fe(e.$validator)?Object.assign({},e):{$validator:e}}function Qe(e){return typeof e=="object"?e.$valid:e}function Ze(e){return e.$validator||e}function $a(e,r){if(!Ve(e))throw new Error(`[@vuelidate/validators]: First parameter to "withParams" should be an object, provided ${typeof e}`);if(!Ve(r)&&!fe(r))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const t=he(r);return t.$params=Object.assign({},t.$params||{},e),t}function ba(e,r){if(!fe(e)&&typeof p(e)!="string")throw new Error(`[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided ${typeof e}`);if(!Ve(r)&&!fe(r))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const t=he(r);return t.$message=e,t}function ya(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t=he(e);return Object.assign({},t,{$async:!0,$watchTargets:r})}function xa(e){return{$validator(r){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];return p(r).reduce((o,m,i)=>{const n=Object.entries(m).reduce((d,l)=>{let[v,f]=l;const g=e[v]||{},c=Object.entries(g).reduce((h,$)=>{let[x,S]=$;const E=Ze(S).call(this,f,m,i,...a),T=Qe(E);if(h.$data[x]=E,h.$data.$invalid=!T||!!h.$data.$invalid,h.$data.$error=h.$data.$invalid,!T){let O=S.$message||"";const D=S.$params||{};typeof O=="function"&&(O=O({$pending:!1,$invalid:!T,$params:D,$model:f,$response:E})),h.$errors.push({$property:v,$message:O,$params:D,$response:E,$model:f,$pending:!1,$validator:x})}return{$valid:h.$valid&&T,$data:h.$data,$errors:h.$errors}},{$valid:!0,$data:{},$errors:[]});return d.$data[v]=c.$data,d.$errors[v]=c.$errors,{$valid:d.$valid&&c.$valid,$data:d.$data,$errors:d.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:o.$valid&&n.$valid,$data:o.$data.concat(n.$data),$errors:o.$errors.concat(n.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:r=>{let{$response:t}=r;return t?t.$errors.map(a=>Object.values(a).map(s=>s.map(o=>o.$message)).reduce((s,o)=>s.concat(o),[])):[]}}}const Ke=e=>{if(e=p(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let r in e)return!0;return!1}return!!String(e).length},Pa=e=>(e=p(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function J(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return a=>(a=p(a),!Ke(a)||r.every(s=>s.test(a)))}var De=Object.freeze({__proto__:null,withParams:$a,withMessage:ba,withAsync:ya,forEach:xa,req:Ke,len:Pa,regex:J,unwrap:p,unwrapNormalizedValidator:Ze,unwrapValidatorResponse:Qe,normalizeValidatorObject:he});J(/^[a-zA-Z]*$/);J(/^[a-zA-Z0-9]*$/);J(/^\d*(\.\d+)?$/);const wa=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;J(wa);const _a=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;J(_a);J(/(^[0-9]*$)|(^-[0-9]+$)/);J(/^[-]?\d*(\.\d+)?$/);const _e=["New York","Los Angeles","Chicago","Houston","Philadelphia","Phoenix","San Antonio","San Diego","Dallas","San Jose","Austin","Jacksonville","San Francisco","Indianapolis","Columbus","Fort Worth","Charlotte","Seattle","Denver","El Paso","Detroit","Washington","Boston","Memphis","Nashville","Portland, Ore.","Oklahoma City","Las Vegas","Baltimore","Louisville","Milwaukee","Albuquerque","Tucson","Fresno","Sacramento","Kansas City, Mo.","Long Beach","Mesa","Atlanta","Colorado Springs","Virginia Beach","Raleigh","Omaha","Miami","Oakland","Minneapolis","Tulsa","Wichita","New Orleans","Arlington, Texas",""],Xe=B({__name:"BaseCollapse",props:{initialVisibility:{type:Boolean,default:!1}},setup(e){const r=e,t=y(!1),a=y(!1);r.initialVisibility&&(t.value=!0);const s=()=>{a.value||(t.value=!t.value)},o=n=>{n.style.width=getComputedStyle(n).width,n.style.position="absolute",n.style.visibility="hidden",n.style.height="auto";const d=getComputedStyle(n).height;n.style.width="",n.style.position="",n.style.visibility="",n.style.height="0",getComputedStyle(n).height,requestAnimationFrame(()=>{n.style.height=d})},m=n=>n.style.height="auto",i=n=>{n.style.height=getComputedStyle(n).height,getComputedStyle(n).height,requestAnimationFrame(()=>{n.style.height="0"})};return(n,d)=>(b(),w("section",null,[Y(n.$slots,"controls",{toggleVisibility:s,isVisible:t.value,isTransitioning:a.value}),V(ve,{name:"expand",onEnter:o,onTransitionstart:d[0]||(d[0]=l=>a.value=!0),onTransitionend:d[1]||(d[1]=l=>a.value=!1),onTransitioncancel:d[2]||(d[2]=l=>a.value=!1),onAfterEnter:m,onLeave:i},{default:L(()=>[Y(n.$slots,"default",{isVisible:t.value})]),_:3})]))}}),Ca={key:0,class:"bg-orange-base/5 py-8"},Va=["onSubmit"],ka={class:"container order-2 mx-auto grid items-center gap-4 px-4 pt-10 pb-8 md:order-1 md:grid-cols-2"},Ra={class:"h-full"},Fa={class:"grid h-full gap-4 lg:grid-cols-2"},Ba={class:"grid h-full gap-4 lg:grid-cols-2"},Oa={class:"container mx-auto flex justify-center pb-10"},Sa=B({__name:"LocationAndTimeForm",props:{isLoading:{type:Boolean,default:!1},activeLocationFilters:{type:Object}},emits:["updateLocationFilters"],setup(e,{expose:r,emit:t}){var v;const a=e,s=window.innerWidth>=768,o=y(!1),m=f=>!!_e.includes(f),i=y({pickupFrom:((v=a.activeLocationFilters)==null?void 0:v.pickupFrom)||"",dropOff:"",pickupDate:"",pickupTime:"",dropOffDate:"",dropOffTime:""});r({formValues:i}),F(i,f=>{o.value||(i.value.dropOff=f.pickupFrom)},{deep:!0});const n=async()=>{await l.value.$validate()&&t("updateLocationFilters",i.value)},d=P(()=>({pickupFrom:{location_validation:De.withMessage("Select a city from the list",m)},dropOff:{location_validation:De.withMessage("Select a city from the list",m)}})),l=ha(d,i,{$autoDirty:!0});return(f,g)=>(b(),I(Xe,{"initial-visibility":s},{controls:L(({toggleVisibility:c,isTransitioning:h,isVisible:$})=>[!s&&!$?(b(),w("section",Ca,[V(re,{class:"mx-auto block","is-disabled":h,onClick:c},{default:L(()=>[U("Choose Location ")]),_:2},1032,["is-disabled","onClick"])])):W("",!0)]),default:L(({isVisible:c})=>{var h,$;return[c?(b(),w("form",{key:0,onSubmit:it(n,["prevent"]),class:"h-fit bg-orange-base/5"},[u("div",ka,[V(Oe,{modelValue:i.value.pickupFrom,"onUpdate:modelValue":g[0]||(g[0]=x=>i.value.pickupFrom=x),label:"Pick up from","list-data":p(_e),error:(h=p(l).pickupFrom.$errors[0])==null?void 0:h.$message},null,8,["modelValue","list-data","error"]),u("div",Ra,[o.value?(b(),I(Oe,{key:0,modelValue:i.value.dropOff,"onUpdate:modelValue":g[1]||(g[1]=x=>i.value.dropOff=x),label:"Drop-off","list-data":p(_e),error:($=p(l).dropOff.$errors[0])==null?void 0:$.$message},null,8,["modelValue","list-data","error"])):(b(),I(qe,{key:1,modelValue:o.value,"onUpdate:modelValue":g[2]||(g[2]=x=>o.value=x),onChange:g[3]||(g[3]=x=>i.value.dropOff=""),"input-bg-class":"bg-transparent",label:"Return to different location",id:"1"},null,8,["modelValue"]))]),u("div",Fa,[V(Se,{modelValue:i.value.pickupDate,"onUpdate:modelValue":g[4]||(g[4]=x=>i.value.pickupDate=x),label:"Pick up date"},null,8,["modelValue"]),V(Te,{modelValue:i.value.pickupTime,"onUpdate:modelValue":g[5]||(g[5]=x=>i.value.pickupTime=x),label:"Pick up time"},null,8,["modelValue"])]),u("div",Ba,[V(Se,{modelValue:i.value.dropOffDate,"onUpdate:modelValue":g[6]||(g[6]=x=>i.value.dropOffDate=x),label:"Drop-off date"},null,8,["modelValue"]),V(Te,{modelValue:i.value.dropOffTime,"onUpdate:modelValue":g[7]||(g[7]=x=>i.value.dropOffTime=x),label:"Drop off time"},null,8,["modelValue"])])]),u("div",Oa,[V(re,{loading:e.isLoading,class:"w-[272px]"},{default:L(()=>[U("Search")]),_:1},8,["loading"])])],40,Va)):W("",!0)]}),_:1}))}}),Ta="/vue-ts-composition-ecommerce/filters-icon.svg",ja=["disabled","value"],La=["value"],Ma=["value"],Ea=B({__name:"BaseSelect",props:{selectOptions:{type:Object,required:!0},modelValue:{type:String},isLoading:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:r}){const t=a=>r("update:modelValue",a);return(a,s)=>(b(),w("select",{disabled:e.isLoading,class:M(["cursor-pointer appearance-none px-2 focus:outline-none",{"cursor-progress":e.isLoading}]),value:e.modelValue,onInput:s[0]||(s[0]=o=>t(o.target.value))},[u("option",{value:e.selectOptions.baseOption.value},_(e.selectOptions.baseOption.name),9,La),(b(!0),w(K,null,X(e.selectOptions.options,o=>(b(),w("option",{key:o.value,value:o.value},_(o.name),9,Ma))),128))],42,ja))}}),Aa={class:"flex justify-between pb-6"},Da=u("img",{class:"md:hidden",src:Ta,alt:"Filters-icon mobile"},null,-1),Ia=[Da],za={class:"flex items-center gap-4"},Na={class:"cursor-pointer"},Ua=["src"],qa=B({__name:"OurCarsCatalogHeading",props:{isLoading:{type:Boolean},sortOrderASC:{type:Boolean},sortBy:{type:String}},emits:["toggle-sort-order","updateSortType","openMobileFilters"],setup(e,{emit:r}){const t=e,a="/vue-ts-composition-ecommerce/",s={baseOption:{value:"rentalCost",name:"Sort by price"},options:[{value:"releaseYear",name:"Sort by year"},{value:"deposit",name:"Sort by deposit"}]},o=P(()=>t.sortOrderASC?"/sort-up.svg":"/sort-down.svg"),m=()=>{t.isLoading||r("toggle-sort-order")};return(i,n)=>(b(),w("div",Aa,[u("div",{onClick:n[0]||(n[0]=d=>i.$emit("openMobileFilters"))},Ia),u("div",za,[V(Ea,{isLoading:e.isLoading,modelValue:e.sortBy,"onUpdate:modelValue":n[1]||(n[1]=d=>i.$emit("updateSortType",d)),selectOptions:s},null,8,["isLoading","modelValue"]),u("span",Na,[u("img",{src:`${p(a)}${p(o)}`,alt:"Sort by icon",onClick:m},null,8,Ua)])])]))}}),Ga="/vue-ts-composition-ecommerce/Icon-wallet.svg",Wa="/vue-ts-composition-ecommerce/Icon-door.svg",Ha="/vue-ts-composition-ecommerce/Icon-seats.svg",Ya="/vue-ts-composition-ecommerce/Icon-stearing-wheel.svg",Ja={class:"rounded-[10px] p-3 shadow-inputBase"},Qa={class:"flex items-center gap-3 border-b pb-3 md:flex-col md:items-stretch md:gap-0 md:border-b-0 md:pb-0"},Za={class:"basis-1/2 rounded-[10px] md:basis-auto md:bg-car-bg"},Ka=["src"],Xa={class:"flex basis-1/2 flex-col items-start justify-center md:block md:basis-auto"},es={class:"inline-block rounded border py-[2.5px] px-1 text-[10px] font-medium text-gray-400 md:mt-4"},ts={class:"pt-1 text-[12px] font-semibold text-base-gray sm:pt-4 sm:text-[22px]"},as={class:"flex items-center justify-between py-2 md:border-b md:py-4"},ss={class:"text-sm text-orange-base sm:text-base"},rs={class:"text-base font-semibold sm:text-[25px]"},ns=u("span",{class:"text-xs"}," / day",-1),os={class:"hidden text-base text-base-gray md:block"},is={class:"flex items-center justify-between gap-2 pt-4 text-[12px] font-semibold text-gray-400 sm:pb-8 sm:text-base md:gap-0"},ls={class:"flex basis-1/4 items-center justify-center rounded bg-car-bg py-[6.5px] md:hidden md:basis-auto md:bg-transparent md:py-0"},cs=u("img",{class:"h-[17px] pr-2",src:Ga,alt:"Doors icon"},null,-1),us=u("div",{class:"flex basis-1/4 items-center justify-center rounded bg-car-bg py-[6.5px] md:basis-auto md:bg-transparent md:py-0"},[u("img",{class:"h-[17px] pr-2",src:Wa,alt:"Doors icon"}),U(" 4 "),u("span",{class:"hidden pl-1 md:block"},"doors")],-1),ds={class:"flex basis-1/4 items-center justify-center rounded bg-car-bg py-[6.5px] md:basis-auto md:bg-transparent md:py-0"},ms=u("img",{class:"h-[17px] pr-2",src:Ha,alt:"Seats icon"},null,-1),ps=u("span",{class:"hidden pl-1 md:block"},"seats",-1),fs={class:"flex basis-1/4 items-center justify-center rounded bg-car-bg py-[6.5px] md:basis-auto md:bg-transparent md:py-0"},vs=u("img",{class:"h-[17px] pr-2",src:Ya,alt:"Transmission icon"},null,-1),gs={class:"pl-1"},hs=B({__name:"CarCard",props:{vehicle:{type:Object,required:!0}},setup(e){const r="/vue-ts-composition-ecommerce/";return(t,a)=>{const s=lt("router-link");return b(),w("div",Ja,[u("div",Qa,[u("div",Za,[u("img",{class:"mx-auto",src:`${p(r)}${e.vehicle.imgPath}`,alt:"Car"},null,8,Ka)]),u("div",Xa,[u("span",es,_(e.vehicle.releaseYear),1),u("h2",ts,_(e.vehicle.model),1),u("div",as,[u("div",ss,[U(" From "),u("span",rs,"$"+_(e.vehicle.rentalCost),1),ns]),u("div",os,"Deposit "+_(e.vehicle.deposit)+"$",1)])])]),u("div",null,[u("div",is,[u("div",ls,[cs,U(" "+_(e.vehicle.deposit)+"$ ",1)]),us,u("div",ds,[ms,U(" "+_(e.vehicle.capacity)+" ",1),ps]),u("div",fs,[vs,u("span",gs,_(e.vehicle.transmission),1)])]),V(s,{to:`/catalog/${e.vehicle.id}`},{default:L(()=>[V(re,{class:"hidden w-full sm:block"},{default:L(()=>[U("Rent now")]),_:1})]),_:1},8,["to"])])])}}}),$s={class:"mb-10 grid gap-4 lg:grid-cols-2"},bs=B({__name:"CarCardsBlock",props:{vehicles:{type:Array,required:!0}},setup(e){return(r,t)=>(b(),w("section",$s,[(b(!0),w(K,null,X(e.vehicles,a=>(b(),I(hs,{key:a.id,vehicle:a},null,8,["vehicle"]))),128))]))}}),ys={class:"mt-4 flex justify-center text-base-gray"},xs=["onClick"],Ps=B({__name:"BasePaginator",props:{totalEntities:null,entitiesPerPage:null,maxVisibleButtons:null,currentPage:null,paginationButtonClass:null},emits:["changeCurrentPage"],setup(e,{emit:r}){const t=e,a=P(()=>Math.ceil(t.totalEntities/t.entitiesPerPage)),s=n=>{n<1||n>a.value||n===t.currentPage||r("changeCurrentPage",n)},o=P(()=>t.currentPage===1?1:t.currentPage===a.value?a.value-t.maxVisibleButtons+1:t.currentPage-1),m=P(()=>Math.min(o.value+t.maxVisibleButtons-1,a.value)),i=P(()=>{const n=[];for(let d=o.value;d<=m.value;d+=1)d!==0&&n.push({name:d,isDisabled:d===t.currentPage});return n});return(n,d)=>(b(),w("section",ys,[u("span",{class:M(["cursor-pointer p-[14px]",[e.paginationButtonClass,{"font-bold text-orange-base":e.currentPage===1}]]),onClick:d[0]||(d[0]=l=>s(1))},"First ",2),(b(!0),w(K,null,X(p(i),l=>(b(),w("span",{class:M(["cursor-pointer p-[14px]",[e.paginationButtonClass,{"font-bold text-orange-base":e.currentPage===l.name,"cursor-not-allowed":l.isDisabled}]]),key:l.name,onClick:v=>s(l.name)},_(l.name),11,xs))),128)),u("span",{class:M(["cursor-pointer p-[14px]",[e.paginationButtonClass,{"font-bold text-orange-base":e.currentPage===p(a)}]]),onClick:d[1]||(d[1]=l=>s(p(a)))},"Last ",2)]))}}),ws={},_s={class:"mb-10 grid gap-4 lg:grid-cols-2"},Cs=ct('<div class="flex items-center gap-4 md:flex-col md:items-stretch"><div class="mb-4 flex h-[110px] basis-1/2 items-center justify-center rounded bg-gray-300 dark:bg-gray-700 sm:h-[180px] md:h-48 md:basis-auto"></div><div class="flex h-full basis-1/2 flex-col md:basis-auto"><div class="mb-4 h-2.5 w-48 rounded-full bg-gray-200 dark:bg-gray-700"></div><div class="mb-2.5 h-2 rounded-full bg-gray-200 dark:bg-gray-700"></div><div class="mb-2.5 h-2 rounded-full bg-gray-200 dark:bg-gray-700"></div><div class="mb-2.5 h-2 rounded-full bg-gray-200 dark:bg-gray-700"></div><div class="mb-2.5 h-2 rounded-full bg-gray-200 dark:bg-gray-700"></div><div class="h-2 rounded-full bg-gray-200 dark:bg-gray-700"></div></div></div><div class="border-b border-b-gray-200 sm:mb-3 sm:mt-7"></div><div class="py-2 sm:py-4"><div class="flex h-7 gap-2"><div class="flex w-full basis-1/3 rounded bg-gray-200"></div><div class="flex w-full basis-1/3 rounded bg-gray-200"></div><div class="flex w-full basis-1/3 rounded bg-gray-200"></div></div></div><div class="hidden h-12 rounded bg-gray-200 sm:block"></div><span class="sr-only">Loading...</span>',5),Vs=[Cs];function ks(e,r){return b(),w("section",_s,[(b(!0),w(K,null,X([...Array(6).keys()],(t,a)=>(b(),w("div",{key:a,role:"status",class:"w-full animate-pulse rounded-[10px] border-gray-200 p-4 shadow-inputBase dark:border-gray-700 md:h-[505px]"},Vs))),128))])}const Rs=ge(ws,[["render",ks]]),Fs={class:"col-span-12 mb-4 md:col-span-8 md:col-start-6 lg:col-span-9 lg:col-start-5"},Bs={key:1,class:"p-10 text-center text-5xl"},Os={key:2,class:"p-10 text-center text-5xl"},Ss=B({__name:"OurCarsCatalog",props:{vehicles:{type:Array,required:!0},carsTotal:{type:Number,required:!0},currentPage:{type:Number,required:!0},isLoading:{type:Boolean},sortOrderASC:{type:Boolean},sortBy:{type:String},error:{type:String}},emits:["appendPage"],setup(e,{emit:r}){const t=e,a=P(()=>t.currentPage===Math.ceil(t.carsTotal/se)),s=()=>r("appendPage");return(o,m)=>(b(),w("section",Fs,[V(qa,Z(o.$attrs,{"sort-by":e.sortBy,"sort-order-a-s-c":e.sortOrderASC,"is-loading":e.isLoading}),null,16,["sort-by","sort-order-a-s-c","is-loading"]),V(ve,{name:"fade",mode:"out-in"},{default:L(()=>[e.isLoading?(b(),I(Rs,{key:0})):e.error?(b(),w("h1",Bs,"Something went wrong... "+_(e.error),1)):e.vehicles.length?(b(),I(bs,{key:3,vehicles:e.vehicles},null,8,["vehicles"])):(b(),w("h1",Os,"Nothing was found"))]),_:1}),e.vehicles.length&&!e.error?(b(),I(re,{key:0,"is-disabled":p(a),loading:e.isLoading,variant:"transparent",class:"w-full",onClick:s},{default:L(()=>[U("Show more")]),_:1},8,["is-disabled","loading"])):W("",!0),e.vehicles.length&&!e.error?(b(),I(Ps,Z({key:1,"max-visible-buttons":3,"current-page":e.currentPage,"total-entities":e.carsTotal,"entities-per-page":p(se)},o.$attrs),null,16,["current-page","total-entities","entities-per-page"])):W("",!0)]))}}),Ts="/vue-ts-composition-ecommerce/burger-closed.svg",js={class:"relative block"},Ls={class:"absolute inset-y-0 left-0 flex items-center pl-4"},Ms={key:0,src:Ue,alt:"Cross"},Es=["value","disabled"],As={class:"mt-1 text-xs text-error"},Ie=B({__name:"BaseInput",props:{modelValue:null,label:null,error:null,disabled:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:r}){const t=e,a=y({focused:!1,touched:!1}),s=n=>{a.value.touched=!0,r("update:modelValue",n)},o=()=>{t.disabled||r("update:modelValue",null)},m=()=>a.value.focused=!0,i=()=>a.value.focused=!1;return(n,d)=>(b(),w("div",null,[u("div",js,[u("span",Ls,[Y(n.$slots,"icon-left")]),u("span",{class:"absolute inset-y-0 right-0 flex cursor-pointer items-center pr-4",onClick:o},[Y(n.$slots,"icon-right",{},()=>[e.modelValue?(b(),w("img",Ms)):W("",!0)])]),u("input",Z({name:"input",value:e.modelValue,onInput:d[0]||(d[0]=l=>s(l.target.value)),onFocus:m,onBlur:i},n.$attrs,{placeholder:"1",class:["peer block h-12 w-full appearance-none rounded-[10px] px-4 pt-5 font-medium text-gray-600 placeholder-transparent shadow-inputBase transition duration-300 ease-in-out placeholder-shown:pt-0 focus:outline-none",{"border-[1px] border-error text-error":e.error}],disabled:e.disabled}),null,16,Es),u("label",{for:"input",class:M(["pointer-text pointer-events-none absolute top-1 px-4 text-xs font-normal text-gray-600 transition-all peer-placeholder-shown:top-[12px] peer-placeholder-shown:text-base peer-placeholder-shown:font-medium",{"text-error":e.error}])},_(e.label),3)]),u("span",As,_(e.error),1)]))}}),Ds={class:"relative"},Is=["min","max","value","title","disabled"],zs=["min","max","title","value","disabled"],Ns=B({__name:"BaseRangeSlider",props:{minPrice:null,maxPrice:null,sliderMinValue:null,sliderMaxValue:null,minGap:null,isLoading:{type:Boolean}},emits:["update:minPrice","update:maxPrice"],setup(e,{emit:r}){const t=e,a=m=>r("update:minPrice",m);F(()=>t.minPrice,m=>{!m||!t.maxPrice||t.maxPrice-m<=t.minGap&&r("update:minPrice",t.maxPrice-t.minGap)});const s=m=>r("update:maxPrice",m);F(()=>t.maxPrice,m=>{m===0&&r("update:maxPrice",null),!(!m||!t.minPrice)&&m-t.minPrice<=t.minGap&&r("update:maxPrice",t.minPrice+t.minGap)});const o=P(()=>{const m=t.minPrice||0,i=t.maxPrice||0,n=(m-t.sliderMinValue)/(t.sliderMaxValue-t.sliderMinValue)*100,d=(i-t.sliderMinValue)/(t.sliderMaxValue-t.sliderMinValue)*100;return`linear-gradient(to right, #8F8F8F ${n}% , #E85638 ${n}% , #E85638 ${d}%, #8F8F8F ${d}%)`});return(m,i)=>(b(),w("div",Ds,[u("div",{class:"slider-track",style:ut({background:p(o)})},null,4),u("input",{type:"range",min:e.sliderMinValue,max:e.sliderMaxValue,value:e.minPrice,title:e.minPrice,disabled:e.isLoading,onInput:i[0]||(i[0]=n=>a(n.target.value))},null,40,Is),u("input",{type:"range",min:e.sliderMinValue,max:e.sliderMaxValue,title:e.maxPrice,value:e.maxPrice,disabled:e.isLoading,onInput:i[1]||(i[1]=n=>s(n.target.value))},null,40,zs)]))}});const Us={class:"mb-8"},qs=u("h2",{class:"mb-[20px] font-semibold text-gray-600"},"Rent price (per day)",-1),Gs={class:"flex items-center"},Ws=u("span",{class:"px-1"},"-",-1),Hs={class:"flex flex-col py-6"},Ys=B({__name:"PriceRangeFilter",props:{isLoading:{type:Boolean,default:!1},initialPriceBoundaries:{type:Object,required:!0},priceRange:{type:Object}},emits:["updatePriceRange"],setup(e,{expose:r,emit:t}){var d,l;const a=e,s=y(((d=a.priceRange)==null?void 0:d.minPrice)||a.initialPriceBoundaries.minPrice),o=y(((l=a.priceRange)==null?void 0:l.maxPrice)||a.initialPriceBoundaries.maxPrice);r({minPrice:s,maxPrice:o});const m=p(a.initialPriceBoundaries.minPrice),i=p(a.initialPriceBoundaries.maxPrice),n=P(()=>({minPrice:s.value,maxPrice:o.value}));return F([s,o],()=>t("updatePriceRange",n.value)),(v,f)=>(b(),w("section",Us,[qs,u("div",Gs,[V(Ie,{disabled:e.isLoading,type:"number",label:"From",modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=g=>s.value=g),modelModifiers:{number:!0}},null,8,["disabled","modelValue"]),Ws,V(Ie,{disabled:e.isLoading,type:"number",label:"To",modelValue:o.value,"onUpdate:modelValue":f[1]||(f[1]=g=>o.value=g),modelModifiers:{number:!0}},null,8,["disabled","modelValue"])]),u("div",Hs,[V(Ns,{minPrice:s.value,"onUpdate:minPrice":f[2]||(f[2]=g=>s.value=g),minPriceModifiers:{number:!0},maxPrice:o.value,"onUpdate:maxPrice":f[3]||(f[3]=g=>o.value=g),maxPriceModifiers:{number:!0},"min-gap":5,"slider-min-value":p(m),"slider-max-value":p(i),"is-loading":e.isLoading},null,8,["minPrice","maxPrice","slider-min-value","slider-max-value","is-loading"])])]))}}),Js=["onClick"],Qs={class:"flex"},Zs=u("h2",null,"From",-1),Ks=["src"],Xs={class:"flex flex-col gap-2"},er={class:"flex items-center"},tr={class:"ml-1 text-[13px] text-gray-400"},ar=B({__name:"CarCollapsibleFilter",props:{vehiclesCountFilter:null,vehiclesMinRentalCostByFilter:null,filterType:null},setup(e,{expose:r,emit:t}){const a=e,s="/vue-ts-composition-ecommerce/",o=n=>`update${n.charAt(0).toUpperCase()+n.slice(1)}Filters`,m=n=>a.filterType==="babySeat"||a.filterType=="videoRecorder"?n==="true"?"Yes":"No":n,i=y([]);return r({activeCarFilters:i}),F(i,()=>t(o(a.filterType),i.value)),(n,d)=>(b(),I(Xe,{class:"mb-8 w-full","initial-visibility":!0},{controls:L(({toggleVisibility:l,isVisible:v})=>[u("div",{class:"mb-[20px] flex justify-between font-semibold text-gray-600",role:"button",onClick:l},[u("h2",null,_(p(vt)[e.filterType]),1),u("div",Qs,[Zs,u("img",{class:M(["ml-4 transition duration-500",{"rotate-180":v}]),src:`${p(s)}dropdown-arrow.svg`,alt:"Cross"},null,10,Ks)])],8,Js)]),default:L(({isVisible:l})=>[ue(u("div",null,[u("section",Xs,[(b(!0),w(K,null,X(e.vehiclesCountFilter,(v,f)=>{var g;return b(),w("div",{class:"flex items-center justify-between",key:f},[u("div",er,[V(qe,{id:`${e.filterType}${f}`,modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=c=>i.value=c),label:m(f),value:f,"input-bg-class":"bg-white"},null,8,["id","modelValue","label","value"]),u("span",tr," ("+_(v||0)+") ",1)]),u("p",null,"$"+_(((g=e.vehiclesMinRentalCostByFilter)==null?void 0:g[f])||0),1)])}),128))])],512),[[ke,l]])]),_:1}))}}),sr={class:"absolute z-10 h-full w-full cursor-wait backdrop-grayscale"},rr=B({__name:"OurCarsCatalogFilters",props:{isOpen:{type:Boolean},isLoading:{type:Boolean},initialPriceBoundaries:null,priceRange:null,vehiclesCountByFilter:null,minRentalCostByFilter:null},emits:["resetFilters","disableWatchers"],setup(e,{emit:r}){const t=e,a=y(),s=y(),o=async()=>{var l,v,f;r("disableWatchers"),await me(),a.value&&(a.value.minPrice=(l=t.initialPriceBoundaries)==null?void 0:l.minPrice,a.value.maxPrice=(v=t.initialPriceBoundaries)==null?void 0:v.maxPrice),(f=s.value)==null||f.forEach(g=>g.activeCarFilters.length=0),r("resetFilters")},m=P(()=>{var l;return(l=s.value)==null?void 0:l.find(v=>v.activeCarFilters.length!==0)}),i=P(()=>{const{minPrice:l,maxPrice:v}=t.priceRange,{minPrice:f,maxPrice:g}=t.initialPriceBoundaries;return l!==f||v!==g}),n=P(()=>[i.value,m.value]),d=P(()=>!n.value.find(l=>l));return(l,v)=>(b(),w("aside",{class:M(["md:z-1 fixed top-0 left-0 z-10 flex h-fit min-h-[100vh] w-full flex-col items-center overflow-hidden overflow-y-auto bg-white p-5 transition-[opacity] duration-300 ease-in md:pointer-events-auto md:relative md:col-span-4 md:w-auto md:overflow-y-hidden md:p-1 md:opacity-100 lg:col-span-3",e.isOpen?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"])},[ue(u("div",sr,null,512),[[ke,e.isLoading]]),u("img",{onClick:v[0]||(v[0]=f=>l.$emit("closeMobileFilters")),class:"absolute top-0 right-0 p-4 md:hidden",src:Ts,alt:"Burger close icon"}),e.initialPriceBoundaries.minPrice?(b(),I(Ys,Z({key:0,ref_key:"priceRangeFilter",ref:a,"initial-price-boundaries":e.initialPriceBoundaries,"price-range":e.priceRange,"is-loading":e.isLoading},l.$attrs),null,16,["initial-price-boundaries","price-range","is-loading"])):W("",!0),e.vehiclesCountByFilter&&e.minRentalCostByFilter?(b(!0),w(K,{key:1},X(p(gt),f=>(b(),I(ar,Z({key:f},l.$attrs,{ref_for:!0,ref_key:"collapsibleFilters",ref:s,"vehicles-count-filter":e.vehiclesCountByFilter[f],"vehicles-min-rental-cost-by-filter":e.minRentalCostByFilter[f],"filter-type":f}),null,16,["vehicles-count-filter","vehicles-min-rental-cost-by-filter","filter-type"]))),128)):W("",!0),V(re,{onClick:o,variant:"transparent",class:"mb-10 w-full md:mb-0","is-disabled":p(d)},{default:L(()=>[U("Reset")]),_:1},8,["is-disabled"])],2))}}),nr={},or={class:"container relative order-3 mx-auto grid h-full grid-cols-12 px-4"};function ir(e,r){return b(),w("section",or,[Y(e.$slots,"filters"),Y(e.$slots,"cars")])}const lr=ge(nr,[["render",ir]]),cr={class:"container order-1 mx-auto px-4 md:order-2"},ur={class:"py-3 text-2xl font-bold text-gray-600 md:py-10 md:text-3xl"},dr={class:"text-sm font-semibold text-gray-400 md:text-base"},mr=B({__name:"PageHeading",props:{heading:{type:String,required:!0},carsTotal:{type:Number}},setup(e){return(r,t)=>(b(),w("div",cr,[u("h1",ur,[U(_(e.heading)+" ",1),u("span",dr,"("+_(e.carsTotal)+")",1)])]))}}),pr=({currentPage:e,sortOrderASC:r,sortBy:t,activeLocationFilters:a,priceRange:s,activeCarTypeFilters:o,activeCarModelFilters:m,activeCarCapacityFilters:i,activeCarTransmissionFilters:n,activeCarDepositFilters:d,activeCarBabySeatFilters:l,activeCarVideoRecorderFilters:v})=>{const f=y([]),g=y(0),c=y(null),h=y(!1),$=y({minPrice:null,maxPrice:null}),x=y(null),S=y(null),H=P(()=>({offset:e.value*se-se,limit:e.value*se-1})),E=async({append:k}={append:!1})=>{if(!h.value)try{c.value=null,h.value=!0,await ht(500);const{data:j,count:Q,error:z}=await le.getAllVehicles({sortBy:t.value,sortOrderASC:r.value,offset:H.value.offset,limit:H.value.limit,location:a.value.pickupFrom,priceRange:s.value,carTypes:o.value,carModels:m.value,carCapacities:i.value,carTransmission:n.value,carDeposit:d.value,carBabySeat:l.value,carVideoRecorder:v.value});if(j&&!k&&(f.value=j),j&&k&&f.value.push(...j),(Q||Q===0)&&(g.value=Q),z)throw new Error("Nothing was found...")}catch(j){console.error(j),j instanceof Error&&(c.value=j.message)}finally{h.value=!1}},T=async()=>{const{minPrice:k,maxPrice:j}=await le.getPriceRange();$.value={minPrice:k,maxPrice:j}},O=async()=>{x.value=await le.getVehiclesCountGroupedByFilterType({priceRange:s.value,location:a.value.pickupFrom})},D=async()=>{S.value=await le.getMinRentalCostGroupedByFilterType({priceRange:s.value,location:a.value.pickupFrom})};return dt(async()=>await Promise.all([E(),T(),O(),D()])),{vehicles:f,vehiclesCount:g,errorMessage:c,isLoading:h,fetchVehicles:E,fetchVehiclesCount:O,fetchMinRentalCostByFilterType:D,initialPriceBoundaries:$,vehiclesCountGroupedByFilterType:x,minRentalCostGroupedByFilterType:S}},fr=e=>{const r=mt(),t=pt();for(const a in t.query)e[a]&&(e[a].value=$t(e[a].value,t.query[a]));F(Object.values(e),()=>{const a={};for(const s in e)e[s].value!==""&&e[s].value&&(a[s]=e[s].value);r.push({query:a})},{deep:!0})},vr={class:"flex h-full w-full flex-col"},$r=B({__name:"CatalogPage",setup(e){const r=y(!1),t=()=>s.value=!0,a=async()=>{m.value.pickupFrom="",o.value&&(o.value.formValues.pickupFrom=""),Object.assign(O.value,{minPrice:C.value.minPrice,maxPrice:C.value.maxPrice}),await me(),await Promise.all([A(),ye(),xe()]),s.value=!1},s=y(!1),o=y(),m=y({pickupFrom:""}),i=R=>{Object.assign(m.value,R)};F(m,()=>{s.value||(console.log("location watcher trigger"),k.value=1,Promise.all([A(),ye(),xe()]))},{deep:!0});const n=y([]),d=R=>n.value=R;F(n,()=>{s.value||(console.log("car types watcher trigger"),k.value=1,A())});const l=y([]),v=R=>l.value=R;F(l,()=>{s.value||(console.log("car models watcher trigger"),k.value=1,A())});const f=y([]),g=R=>f.value=R;F(f,()=>{s.value||(console.log("car capacity watcher trigger"),k.value=1,A())});const c=y([]),h=R=>c.value=R;F(c,()=>{s.value||(console.log("car transmission watcher trigger"),k.value=1,A())});const $=y([]),x=R=>$.value=R;F($,()=>{s.value||(console.log("car deposit watcher trigger"),k.value=1,A())});const S=y([]),H=R=>S.value=R;F(S,()=>{s.value||(console.log("car baby seat watcher trigger"),k.value=1,A())});const E=y([]),T=R=>E.value=R;F(E,()=>{s.value||(console.log("car video recorder watcher trigger"),k.value=1,A())});const O=y({minPrice:0,maxPrice:0}),D=bt(R=>Object.assign(O.value,R),500,s);F(O,()=>{s.value||(console.log("price range watcher trigger"),k.value=1,Promise.all([A(),ye(),xe()]))},{deep:!0});const k=y(1),j=()=>{te.value=!0,k.value+=1},Q=R=>k.value=R;F(k,()=>{if(console.log("page trigger"),te.value){A({append:!0}),te.value=!1;return}A()});const z=y(!0),q=y("rentalCost"),ee=()=>z.value=!z.value,$e=R=>q.value=R;F([q,z],()=>A());const te=y(!1);ft(r);const{vehicles:ne,vehiclesCount:oe,isLoading:ae,errorMessage:be,initialPriceBoundaries:C,vehiclesCountGroupedByFilterType:G,minRentalCostGroupedByFilterType:N,fetchVehicles:A,fetchVehiclesCount:ye,fetchMinRentalCostByFilterType:xe}=pr({currentPage:k,sortOrderASC:z,sortBy:q,activeLocationFilters:m,priceRange:O,activeCarTypeFilters:n,activeCarModelFilters:l,activeCarCapacityFilters:f,activeCarTransmissionFilters:c,activeCarDepositFilters:$,activeCarBabySeatFilters:S,activeCarVideoRecorderFilters:E});return fr({page:k,sortOrderASC:z,sortBy:q,location:Pe(m.value,"pickupFrom"),minPrice:Pe(O.value,"minPrice"),maxPrice:Pe(O.value,"maxPrice")}),(R,ie)=>(b(),w("div",vr,[V(Sa,{ref_key:"locationAndTimeForm",ref:o,"active-location-filters":m.value,"is-loading":p(ae),onUpdateLocationFilters:i},null,8,["active-location-filters","is-loading"]),V(mr,{heading:"Our cars","cars-total":p(oe)},null,8,["cars-total"]),V(lr,null,{filters:L(()=>[V(rr,{"initial-price-boundaries":p(C),"price-range":O.value,"is-open":r.value,"is-loading":p(ae),"vehicles-count-by-filter":p(G),"min-rental-cost-by-filter":p(N),onDisableWatchers:t,onResetFilters:a,onCloseMobileFilters:ie[0]||(ie[0]=et=>r.value=!1),onUpdatePriceRange:p(D),onUpdateCarTypeFilters:d,onUpdateModelFilters:v,onUpdateCapacityFilters:g,onUpdateTransmissionFilters:h,onUpdateDepositFilters:x,onUpdateVideoRecorderFilters:T,onUpdateBabySeatFilters:H},null,8,["initial-price-boundaries","price-range","is-open","is-loading","vehicles-count-by-filter","min-rental-cost-by-filter","onUpdatePriceRange"])]),cars:L(()=>[V(Ss,{"sort-by":q.value,vehicles:p(ne),error:p(be),"is-loading":p(ae),"current-page":k.value,"cars-total":p(oe),"sort-order-a-s-c":z.value,onAppendPage:j,onUpdateSortType:$e,onToggleSortOrder:ee,onChangeCurrentPage:Q,onOpenMobileFilters:ie[1]||(ie[1]=et=>r.value=!0)},null,8,["sort-by","vehicles","error","is-loading","current-page","cars-total","sort-order-a-s-c"])]),_:1})]))}});export{$r as default};
